(this.webpackJsonpufomg=this.webpackJsonpufomg||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(10),s=n.n(a),c=n(13),o=n(12),i=n(28),l=n(29),u=n(15),p=n(30),d=n(11),j="FETCH_SIGHTINGS_PENDING",b="FETCH_SIGHTINGS_SUCCESS",m="FETCH_SIGHTINGS_ERROR",f="POST_SIGHTINGS_SUCCESS",g={pending:!1,sightings:[],error:null},h=Object(o.combineReducers)({sightingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(d.a)(Object(d.a)({},e),{},{pending:!0});case b:return Object(d.a)(Object(d.a)({},e),{},{pending:!1,sightings:t.sightings});case m:return Object(d.a)(Object(d.a)({},e),{},{pending:!1,error:t.error});case f:return Object(d.a)(Object(d.a)({},e),{},{sightings:[].concat(Object(p.a)(e.sightings),[t.sighting])});default:return e}}}),y=(n(39),n(40),n.p+"static/media/ufo.1edcbb7b.png"),O=function(e,t){fetch("http://localhost:5000/api/v1/reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(n){if(n.error)throw n.error;t(function(e){return{type:f,sighting:e}}(e))}))},x=function(e){e({type:j}),fetch("http://localhost:5000/api/v1/reports").then((function(e){return e.json()})).then((function(t){if(t.error)throw t.error;var n;return e((n=t.results,{type:b,sightings:n})),t.results})).catch((function(t){e(function(e){return{type:m,error:e}}(t))}))},T=n(1),v=function(){var e=Object(c.b)();return Object(r.useEffect)((function(){x(e)})),Object(T.jsx)("main",{className:"main",children:Object(T.jsxs)("div",{className:"main-content",children:[Object(T.jsx)("div",{id:"app",children:Object(T.jsx)("div",{id:"wrapper",children:Object(T.jsx)("h1",{className:"glitch","data-text":"UFOMG",children:"UFOMG"})})}),Object(T.jsxs)("div",{className:"btn-container",children:[Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)(u.b,{to:"/sightings-map",children:[Object(T.jsx)("div",{className:"button mainBtns",children:Object(T.jsx)("span",{children:"Sightings"})}),Object(T.jsx)("img",{src:y,className:"submit ufoIcon"})]})}),Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)(u.b,{to:"/report-form",children:[Object(T.jsx)("div",{className:"button mainBtns",children:Object(T.jsx)("span",{children:"Report Sighting"})}),Object(T.jsx)("img",{src:y,className:"submit ufoIcon"})]})})]})]})})},N=n(9),_=(n(43),n.p+"static/media/ufoFormPhoto.6e1761b8.jpg"),S=function(e){var t=e.data,n=window.cloudinary.createUploadWidget({cloudName:"mdflynn",uploadPreset:"xilykym7"},(function(e,n){"success"===n.event&&t(n.info.secure_url,"An image of ".concat(n.info.original_filename))}));return Object(T.jsx)("div",{id:"photo-form-container",children:Object(T.jsx)("button",{onClick:function(e){return function(e,t){t.preventDefault(),e.open()}(n,e)},children:"Upload Photo"})})},w=function(){var e=Object(r.useState)(""),t=Object(N.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)("anonymous"),o=Object(N.a)(s,2),i=o[0],l=o[1],u=Object(r.useState)(""),p=Object(N.a)(u,2),d=p[0],j=p[1],b=Object(r.useState)(""),m=Object(N.a)(b,2),f=m[0],g=m[1],h=Object(r.useState)(""),x=Object(N.a)(h,2),v=x[0],w=x[1],C=Object(r.useState)(""),k=Object(N.a)(C,2),I=k[0],E=k[1],F=Object(r.useState)(""),G=Object(N.a)(F,2),M=(G[0],G[1]),P=Object(c.b)(),A=function(e){e.preventDefault(),function(e,t){var n=e.split(" ").join("+"),r=t.split(" ").join("+");return fetch("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(n,",+").concat(r,"&key=").concat("AIzaSyC4MPnXNz8txiScW63KMhoqFAs4K90VsA0")).then((function(e){return e.json()}))}(d,f).then((function(e){var t=e.results[0].geometry.location;O({name:i,description:v,event_type:n,lat:t.lat,long:t.lng,image:I},P)}))},z=I||_;return Object(T.jsxs)("form",{className:"form",children:[Object(T.jsx)("img",{src:z,className:"formPhoto",alt:"ufo"}),Object(T.jsxs)("div",{className:"form-inputs",children:[Object(T.jsxs)("div",{className:"form__group field",children:[Object(T.jsx)("input",{type:"input",className:"form__field",placeholder:"Name",name:"name",id:"name",onChange:function(e){l(e.target.value)},required:!0}),Object(T.jsx)("label",{htmlFor:"name",className:"form__label",children:"Name"})]}),Object(T.jsxs)("div",{className:"form__group field",children:[Object(T.jsx)("input",{type:"input",className:"form__field",placeholder:"City",name:"city",id:"city",onChange:function(e){j(e.target.value)},required:!0}),Object(T.jsx)("label",{htmlFor:"city",className:"form__label",children:"City"})]}),Object(T.jsxs)("div",{className:"form__group field",children:[Object(T.jsx)("input",{type:"input",className:"form__field",placeholder:"State",name:"state",id:"state",onChange:function(e){g(e.target.value)},required:!0}),Object(T.jsx)("label",{htmlFor:"state",className:"form__label",children:"State"})]}),Object(T.jsxs)("div",{className:"form__group field",children:[Object(T.jsx)("input",{type:"input",className:"form__field",placeholder:"Description",name:"desciption",id:"description",onChange:function(e){w(e.target.value)},required:!0}),Object(T.jsx)("label",{htmlFor:"description",className:"form__label",children:"Description"})]}),Object(T.jsxs)("label",{children:["Encounter Type",Object(T.jsxs)("select",{value:n,onChange:function(e){a(e.target.value)},className:"drop-down",children:[Object(T.jsx)("option",{selected:!0,disabled:!0}),Object(T.jsx)("option",{value:"sighting",children:"Sighting"}),Object(T.jsx)("option",{value:"encounter",children:"Encounter"}),Object(T.jsx)("option",{value:"abduction",children:"Abduction"})]})]}),Object(T.jsx)(S,{data:function(e,t){E(e),M(t)}}),Object(T.jsx)("div",{className:"container",children:Object(T.jsxs)("a",{href:"/#",target:"_blank",onClick:function(e){return A(e)},children:[Object(T.jsx)("div",{className:"button",children:Object(T.jsx)("span",{children:"Submit"})}),Object(T.jsx)("img",{src:y,className:"submit ufoIcon",alt:"hovering ufo"})]})})]})]})},C=(n(44),n(45),n(16)),k=n.p+"static/media/ufobeam.ea8231a2.png",I=n.p+"static/media/alienmarker.e97df2e0.png",E=n.p+"static/media/skylights.af9f465f.png",F={width:"90vw",height:"90vh"},G={lat:39.8283,lng:-98.5795},M=["rgba(0, 255, 255, 0)","rgba(0, 255, 255, 1)","rgba(0, 191, 255, 1)","rgba(0, 127, 255, 1)","rgba(0, 63, 255, 1)","rgba(0, 0, 255, 1)","rgba(0, 0, 223, 1)","rgba(0, 0, 191, 1)","rgba(0, 0, 159, 1)","rgba(0, 0, 127, 1)","rgba(63, 0, 91, 1)","rgba(127, 0, 63, 1)","rgba(191, 0, 31, 1)","rgba(255, 0, 0, 1)"],P=[{elementType:"geometry",stylers:[{color:"#1d2c4d"}]},{elementType:"labels.text.fill",stylers:[{color:"#8ec3b9"}]},{elementType:"labels.text.stroke",stylers:[{color:"#1a3646"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{color:"#4b6878"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#64779e"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{color:"#4b6878"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{color:"#334e87"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#023e58"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#283d6a"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#6f9ba5"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{color:"#1d2c4d"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#023e58"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#3C7680"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#304a7d"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#98a5be"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#1d2c4d"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#2c6675"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#255763"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#b0d5ce"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{color:"#023e58"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#98a5be"}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{color:"#1d2c4d"}]},{featureType:"transit.line",elementType:"geometry.fill",stylers:[{color:"#283d6a"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#3a4762"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#0e1626"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#4e6d70"}]}],A=function(){var e=Object(r.useState)(null),t=Object(N.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(null),i=Object(N.a)(o,2),l=i[0],u=i[1],p=Object(c.c)((function(e){return e.sightingsReducer})),d=Object(C.e)({id:"google-map-script",googleMapsApiKey:"".concat("AIzaSyC4MPnXNz8txiScW63KMhoqFAs4K90VsA0"),libraries:["places","visualization"]}).isLoaded,j=function(e){switch(e){case"sighting":return E;case"encounter":return I;case"abduction":return k;default:return E}};return d?Object(T.jsxs)(C.a,{onLoad:function(e){return function(e){var t=document.createElement("div");s.a.render(Object(T.jsx)("button",{onClick:function(e){e.preventDefault(),console.log("hi")},children:"TEST ME"}),t),e.controls[window.google.maps.ControlPosition.TOP_RIGHT].push(t)}(e)},options:{styles:P},mapContainerStyle:F,center:G,zoom:5,children:[p.sightings.map((function(e,t){var n={lat:parseInt(e.lat),lng:parseInt(e.long)};return Object(T.jsx)(C.d,{icon:{url:j(e.event_type),scaledSize:new window.google.maps.Size(50,50)},position:n,onMouseDown:function(){u(e)},onMouseUp:function(){a(n)}},t)})),Object(T.jsx)(C.b,{options:{gradient:M,radius:30},data:p.sightings.map((function(e){return new window.google.maps.LatLng(parseInt(e.lat),parseInt(e.long))}))}),n&&Object(T.jsx)(C.c,{onCloseClick:function(){a(null)},position:n,children:Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{children:[Object(T.jsx)("p",{children:l.name?l.name:"anonymous"}),Object(T.jsx)("p",{children:l.description}),Object(T.jsx)("p",{children:l.event_type})]}),l.image&&Object(T.jsx)("img",{className:"site-image",src:l.image,alt:"alien ".concat(l.event_type)})]})})]}):Object(T.jsx)(T.Fragment,{})},z=function(){return Object(T.jsx)("main",{className:"map-main",children:Object(T.jsx)(A,{})})},D=n(3);var H=function(){return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(D.c,{children:[Object(T.jsx)(D.a,{exact:!0,path:"/",component:v}),Object(T.jsx)(D.a,{exact:!0,path:"/report-form",component:w}),Object(T.jsx)(D.a,{exact:!0,path:"/sightings-map",component:z})]})})},R=(n(46),Object(o.createStore)(h,Object(l.composeWithDevTools)(Object(o.applyMiddleware)(i.a))));s.a.render(Object(T.jsx)(c.a,{store:R,children:Object(T.jsx)(u.a,{children:Object(T.jsx)(H,{})})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.23aa19d3.chunk.js.map